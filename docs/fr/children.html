<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><title>Children · ReasonReact</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Children · ReasonReact"/><meta property="og:type" content="website"/><meta property="og:url" content="https://reasonml.github.io/reason-react/reason-react/index.html"/><meta property="og:description" content="Les éléments children de ReasonReact sont comme les éléments children de ReactJS, sauf que nous fournissons des facilités qui tirent parti du langage lui même."/><link rel="shortcut icon" href="/reason-react/img/reason-react-red-favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css"/><link rel="alternate" type="application/atom+xml" href="https://reasonml.github.io/reason-react/blog/atom.xml" title="ReasonReact Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://reasonml.github.io/reason-react/blog/feed.xml" title="ReasonReact Blog RSS Feed"/><link rel="stylesheet" href="/reason-react/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/reason-react/"><img class="logo" src="/reason-react/img/reason-react-white.svg"/><h2 class="headerTitle">ReasonReact</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/reason-react/docs/fr/installation.html" target="_self">Documentation</a></li><li><a href="/reason-react/docs/fr/playground.html" target="_self">Try</a></li><li><a href="/reason-react/docs/fr/simple.html" target="_self">Exemples</a></li><li><a href="/reason-react/docs/fr/community.html" target="_self">Communauté</a></li><li><a href="/reason-react/blog" target="_self">Blogue</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/reason-react/img/language.svg"/>Français</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/reason-react/ja">日本語</a></li><li><a href="/reason-react/en">English</a></li><li><a href="/reason-react/es-ES">Español</a></li><li><a href="/reason-react/ko">한국어</a></li><li><a href="/reason-react/pt-BR">Português (Brasil)</a></li><li><a href="/reason-react/ru">Русский</a></li><li><a href="/reason-react/zh-CN">中文</a></li><li><a href="/reason-react/zh-Hant">繁體中文</a></li><li><a href="https://crowdin.com/project/reason-react" target="_blank">Aider à traduire</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li><li><a href="https://github.com/reasonml/reason-react" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Core</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Mise en route</h3><ul><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/what-and-why.html">What &amp; Why</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/intro-example.html">Exemple d’introduction</a></li></ul></div><div class="navGroup navGroupActive"><h3>Core</h3><ul><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/creation-props-self.html">Creation, Props &amp; Self</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/jsx.html">JSX</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/render.html">Render</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/callback-handlers.html">Callback Handlers</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/state-actions-reducer.html">State, Actions &amp; Reducer</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/lifecycles.html">Cycles de vie</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/instance-variables.html">Variables d’instance</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/react-ref.html">React Ref</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/interop.html">Talk to Existing ReactJS Code</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/event.html">Evènements</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/style.html">Style</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/clone-element.html">cloneElement</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/reason-react/docs/fr/children.html">Children</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/dom.html">Travailler avec le DOM</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/subscriptions-helper.html">Subscriptions Helper</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/router.html">Router</a></li></ul></div><div class="navGroup navGroupActive"><h3>Équivalences ReactJS</h3><ul><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/invalid-prop-name.html">Invalid Prop Name</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/props-spread.html">Props Spread</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/component-as-prop.html">Component as Prop</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/ternary-shortcut.html">Ternary Shortcut</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/context-mixins.html">Context &amp; Mixins?</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/custom-class-component-property.html">Custom Class/Component Property</a></li></ul></div><div class="navGroup navGroupActive"><h3>FAQ</h3><ul><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/im-having-a-type-error.html">Je vais avoir une erreur de Type</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/record-field-send-handle-not-found.html">Record Field send/handle Not Found</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/send-handle-callbacks-having-incompatible-types.html">send/handle callbacks having Incompatible Types</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/i-really-need-feature-x-from-reactjs.html">J’ai vraiment besoin de la fonctionnalité X de ReactJS</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/fr/element-type-is-invalid.html">Element Type is Invalid Runtime Error</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/reason-react/fr" target="_blank">Translate</a><h1>Children</h1></header><article><div><span><p>Les éléments children de ReasonReact sont comme les éléments children de ReactJS, sauf que nous fournissons des facilités qui tirent parti du langage lui même.</p>
<p>Supposons que des personnes utilisent votre composant de cette façon: <code>&lt;Animation&gt;&lt;div /&gt;&lt;/Animation&gt;</code>. Dans le composant <code>Animation</code>, vous aimeriez contraindre la propriété <code>children</code> qui vous est passée (ici le <code>div</code>) en tant qu'enfant unique. C'est à dire que vous aimeriez générer une erreur sur : <code>&lt;Animation&gt;&lt;div /&gt;&lt;div /&gt;&lt;/Animation&gt;</code>.</p>
<p>ReactJS fournit une fonction pour ça:</p>
<pre><code class="hljs css js"><span class="hljs-comment">// inside Animation.js</span>
render: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> React.Children.only(<span class="hljs-keyword">this</span>.children);
}
</code></pre>
<p>Ou, peut être avez vous créé un composant de mise en page qui n'accepte strictement que deux enfants (ex: <code>&lt;Layout&gt;&lt;MyColumn /&gt;&lt;MyColumn /&gt;&lt;/Layout&gt;</code>):</p>
<pre><code class="hljs css js"><span class="hljs-comment">// Layout.js</span>
render: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (React.Children.count(<span class="hljs-keyword">this</span>.props.children) !== <span class="hljs-number">2</span>) {
    <span class="hljs-comment">// ... error</span>
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {this.props.children[0]}
      <span class="hljs-tag">&lt;<span class="hljs-name">Separator</span> /&gt;</span>
      {this.props.children[1]}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>Ou peut être vous mandatez une fonction callback en tant qu'enfant:</p>
<pre><code class="hljs css js">&lt;br /&gt;render: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> React.Children.only(<span class="hljs-keyword">this</span>.props.children(<span class="hljs-string">'hello'</span>));
}
</code></pre>
<p>As an author of these JS components, you can only hope that the user provided the right children type to you, and throw an error for them if not. In ReasonReact, <code>children</code> prop is typed and prevents bad usage from the consumer. This seems pretty natural, once you realize that <code>children</code> props <strong>is basically like any other prop</strong>! Yes, you can pass tuple, variant, record and others to children! This also mean we don't have to provide the equivalent <code>React.Children.*</code> utils in ReasonReact at all!</p>
<p>However, due to syntactical and interoperability reasons, we do have some small restrictions on <code>children</code>:</p>
<ul>
<li>DOM elements such as <code>div</code>, <code>span</code> and others mandate the <code>children</code> you pass to be <code>array(reactElement)</code>. For example, <code>&lt;div&gt; [1, 2, 3] &lt;/div&gt;</code> or <code>&lt;span&gt; Some(10) &lt;/span&gt;</code> don't work, since the <code>list</code> and the <code>option</code> are forwarded to the underlying ReactJS <code>div</code>/<code>span</code> and such data types don't make sense in JS.</li>
<li>User-defined elements, by default, also accept an array (of anything). This is due to a rather silly constraint of the JSX syntax, described below.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" name="syntax-constraint"></a><a href="#syntax-constraint" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Syntax Constraint</h2>
<p><em>Technically</em>, if you've written a component that accepts a tuple as <code>children</code>:</p>
<pre><code class="hljs css reason"><span class="hljs-comment">/* MyForm.re */</span>
type tuple2Children = (ReasonReact.reactElement, ReasonReact.reactElement);

<span class="hljs-built_in">let</span> make = (<span class="hljs-built_in">children</span>: tuple2Children) =&gt; {
  ...component,
  <span class="hljs-built_in">render</span>: _self =&gt; {
    &lt;div&gt;
      {fst(<span class="hljs-built_in">children</span>)}
      &lt;Separator /&gt;
      {snd(<span class="hljs-built_in">children</span>)}
    &lt;/div&gt;
  }
};
</code></pre>
<p>Then you can expect the user to pass you a tuple:</p>
<pre><code class="hljs css reason"><span class="hljs-tag">&lt;<span class="hljs-name">MyForm</span>&gt;</span> (<span class="hljs-tag">&lt;<span class="hljs-name">div</span> /&gt;</span>, <span class="hljs-tag">&lt;<span class="hljs-name">div</span> /&gt;</span>) <span class="hljs-tag">&lt;/<span class="hljs-name">MyForm</span>&gt;</span>
</code></pre>
<p>This, however, will give you a type error:</p>
<pre><code class="hljs">This has type:
  array('a)
But somewhere wanted:
  tuple2Children (defined as (ReasonReact.reactElement, ReasonReact.reactElement))
</code></pre>
<p>It means that <code>MyForm</code> is expecting the tuple, but you're giving <code>array</code> instead! What's happening? Well, look at what JSX is transformed into:</p>
<pre><code class="hljs css reason">&lt;MyLayout&gt; <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> &lt;/MyLayout&gt;
&lt;MyLayout&gt; <span class="hljs-selector-tag">a</span> &lt;/MyLayout&gt;
</code></pre>
<p>These actually become:</p>
<pre><code class="hljs css reason"><span class="hljs-selector-tag">ReasonReact</span><span class="hljs-selector-class">.element</span>(
  <span class="hljs-selector-tag">MyLayout</span><span class="hljs-selector-class">.make</span>(<span class="hljs-selector-attr">[|a, b|]</span>)
);
<span class="hljs-selector-tag">ReasonReact</span><span class="hljs-selector-class">.element</span>(
  <span class="hljs-selector-tag">MyLayout</span><span class="hljs-selector-class">.make</span>(<span class="hljs-selector-attr">[|a|]</span>)
);
</code></pre>
<p>See how the second <code>MyLayout</code>'s children is also wrapped in an array? We can't special-case <code>&lt;MyLayout&gt; a &lt;/MyLayout&gt;</code> to pass <code>a</code> without the array wrapping (it'd give even more confusing errors). Since children is usually an array, we've decided to always wrap it with an array, no matter how many items we visually see in the JSX. But what if you really want to pass unwrapped data?</p>
<h3><a class="anchor" aria-hidden="true" name="children-spread"></a><a href="#children-spread" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Children Spread</h3>
<p>Just use <code>&lt;MyLayout&gt; ...a &lt;/MyLayout&gt;</code>. This will simply transform into <code>ReasonReact.element(MyLayout.make(a))</code>, aka without the array wrapping.</p>
<h4><a class="anchor" aria-hidden="true" name="tips-tricks"></a><a href="#tips-tricks" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tips &amp; Tricks</h4>
<p>Here are some use-cases for children spread + Reason built-in data structures:</p>
<ul>
<li><p>A layout component that mandates a tuple of 2 react element and shows them side-by-side:</p>
<pre><code class="hljs css reason"><span class="hljs-tag">&lt;<span class="hljs-name">MyForm</span>&gt;</span> ...(<span class="hljs-tag">&lt;<span class="hljs-name">div</span> /&gt;</span>, <span class="hljs-tag">&lt;<span class="hljs-name">div</span> /&gt;</span>) <span class="hljs-tag">&lt;/<span class="hljs-name">MyForm</span>&gt;</span>
</code></pre></li>
<li><p>A component that mandates a callback, no need for ReactJS' <code>React.Children.only</code> runtime check:</p>
<pre><code class="hljs css reason"><span class="hljs-tag">&lt;<span class="hljs-name">Motion</span>&gt;</span> ...((name) =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">name</span> /&gt;</span>) <span class="hljs-tag">&lt;/<span class="hljs-name">Motion</span>&gt;</span>
</code></pre></li>
<li><p>A layout helper that accepts a variant of <code>TwoRows | ThreeRows | FourColumns</code></p>
<pre><code class="hljs css reason"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span>&gt;</span> ...(ThreeRows(<span class="hljs-tag">&lt;<span class="hljs-name">div</span> /&gt;</span>, child2, child3)) <span class="hljs-tag">&lt;/<span class="hljs-name">Layout</span>&gt;</span>
</code></pre></li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="pitfall"></a><a href="#pitfall" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pitfall</h3>
<p>Following the above section's reasoning, this code should work:</p>
<pre><code class="hljs css reason">let children = [| &lt;<span class="hljs-keyword">div</span> /&gt; |];
&lt;<span class="hljs-keyword">div</span>&gt; ...children &lt;/<span class="hljs-keyword">div</span>&gt;; /* &lt;<span class="hljs-comment">--- this line */</span>
</code></pre>
<p>It <em>does</em> work for custom components (upper-case), But it doesn't for DOM components (lower-cased). This is due to some bindings-related constraints; we'll make this better in the future! In the meantime, for passing to DOM element, e.g. <code>&lt;div className=bar&gt; ...children &lt;/div&gt;</code> use the following:</p>
<pre><code class="hljs css reason">ReasonReact.createDomElement(<span class="hljs-string">"div"</span>, ~props={<span class="hljs-string">"className"</span>: <span class="hljs-keyword">bar}, </span>children)<span class="hljs-comment">;</span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="clone-element.html">← cloneElement</a><a class="docs-next button" href="dom.html">Travailler avec le DOM →</a></div></div></div></div><span><script src="/reason-react/js/redirectBlog.js"></script><script src="/reason-react/js/pjax-api.js"></script><script>window.foo = new Pjax({
          areas: [
            // try to use the first query.
            '.mainContainer, .docsNavContainer .toc .navWrapper',
            // fallback
            'body'
          ],
          link: '.docsNavContainer:not(.docsSliderActive) a',
          update: {
            script: false,
          }
        });
        var languagesMenuItemCopy = document.getElementById("languages-menu");
        languagesMenuItemCopy.addEventListener("click", function(e){
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
        });</script></span></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                apiKey: '55156da6520de795d3a2c2d23786f08e',
                indexName: 'react-reason',
                inputSelector: '#search_input_react'
              });
            </script></body></html>